(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1404dca0"],{"1dde":function(e,t,n){var r=n("d039"),a=n("b622"),o=n("2d00"),c=a("species");e.exports=function(e){return o>=51||!r((function(){var t=[],n=t.constructor={};return n[c]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"21e4":function(e,t,n){"use strict";var r=n("1da1"),a=(n("96cf"),n("e4f4"));t["a"]={ListMetrologyHistory:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["http"].get("metrology/history");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),ListMetrologySolicitations:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["http"].get("metrology/solicitations");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),FindMetrologyById:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["http"].get("metrology/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),JoinMetrologyByUserId:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["http"].patch("metrology/join/".concat(n),{user:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),UpdateDataMetrologyOfStartup:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["http"].put("metrology/data/".concat(t),n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),FinishMetrologyByUserId:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["http"].patch("metrology/finish/".concat(t),{user:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}},"320a":function(e,t,n){"use strict";n.r(t);n("b0c0");var r=n("7a23"),a=function(e){return Object(r["pushScopeId"])("data-v-289e4eef"),e=e(),Object(r["popScopeId"])(),e},o={class:"content-metrologiaDetalhes"},c={class:"form"},i=a((function(){return Object(r["createElementVNode"])("legend",null,"Metrologia",-1)})),l={class:"input"},u=a((function(){return Object(r["createElementVNode"])("label",{for:"code_product"},"Código Produto",-1)})),s=["value"],d={class:"input"},p=a((function(){return Object(r["createElementVNode"])("label",{for:"client"},"Código Cliente",-1)})),f=["value"],m={class:"input"},b=a((function(){return Object(r["createElementVNode"])("label",{for:"client"},"Produto",-1)})),h=["value"],v={class:"input"},g=a((function(){return Object(r["createElementVNode"])("label",{for:"client"},"Cliente",-1)})),y=["value"],O={class:"input"},j=a((function(){return Object(r["createElementVNode"])("label",{for:"client"},"Técnico Agregado",-1)})),w=["value"],x={class:"input"},V=a((function(){return Object(r["createElementVNode"])("label",{for:"client"},"Horário Inicial",-1)})),E=["value"],B=a((function(){return Object(r["createElementVNode"])("legend",null,"Preenchimento",-1)})),k={class:"btn"};function N(e,t,n,a,N,D){var M=Object(r["resolveComponent"])("TableMetrologiaDetalhes");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",o,[Object(r["createElementVNode"])("fieldset",c,[i,Object(r["createElementVNode"])("div",l,[u,Object(r["createElementVNode"])("input",{type:"text",name:"code_product",id:"code_product",placeholder:"Digite o código OP",value:N.opById.header.code_product,disabled:""},null,8,s)]),Object(r["createElementVNode"])("div",d,[p,Object(r["createElementVNode"])("input",{type:"text",name:"client",id:"client",placeholder:"ex: Yamaha",value:N.opById.header.code_client,disabled:""},null,8,f)]),Object(r["createElementVNode"])("div",m,[b,Object(r["createElementVNode"])("input",{type:"text",name:"client",id:"client",placeholder:"ex: Yamaha",value:N.opById.header.desc_product,disabled:""},null,8,h)]),Object(r["createElementVNode"])("div",v,[g,Object(r["createElementVNode"])("input",{type:"text",name:"client",id:"client",placeholder:"ex: Yamaha",value:N.opById.header.client,disabled:""},null,8,y)]),Object(r["createElementVNode"])("div",O,[j,Object(r["createElementVNode"])("input",{type:"text",name:"client",id:"client",placeholder:"ex: Yamaha",value:N.opById.header.user.name,disabled:""},null,8,w)]),Object(r["createElementVNode"])("div",x,[V,Object(r["createElementVNode"])("input",{type:"text",name:"client",id:"client",placeholder:"ex: Yamaha",value:D.formatDate(N.opById.header.user.startDate),disabled:""},null,8,E)])]),Object(r["createElementVNode"])("form",null,[Object(r["createElementVNode"])("fieldset",null,[B,Object(r["createVNode"])(M,{onVariablesModification:D.captureDataFromVariables,variables:N.opById.metrology_items},null,8,["onVariablesModification","variables"])]),Object(r["createElementVNode"])("div",k,[Object(r["createElementVNode"])("button",{type:"submit",class:"btn-save",onClick:t[0]||(t[0]=Object(r["withModifiers"])((function(){return D.saveData&&D.saveData.apply(D,arguments)}),["prevent"]))},"Salvar"),Object(r["createElementVNode"])("button",{type:"button",class:"btn-close",onClick:t[1]||(t[1]=function(){return D.finishMetrology&&D.finishMetrology.apply(D,arguments)})},"Finalizar")])])])}var D=n("1da1"),M=(n("fb6a"),n("99af"),n("d81d"),n("96cf"),n("21e4")),C=function(e){return Object(r["pushScopeId"])("data-v-7d2b470f"),e=e(),Object(r["popScopeId"])(),e},I={class:"tableContent"},R={cellpadding:"0",cellspacing:"0"},F=C((function(){return Object(r["createElementVNode"])("th",null,"Identificação",-1)})),_={key:0},S=["min","max","onUpdate:modelValue"];function T(e,t,n,a,o,c){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",I,[Object(r["createElementVNode"])("table",R,[Object(r["createElementVNode"])("thead",null,[F,(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(c.arrayFilter(n.variables[0].items),(function(e){return Object(r["openBlock"])(),Object(r["createElementBlock"])("th",{key:e.id},Object(r["toDisplayString"])("Cavidade "+e.position_cavity),1)})),128))]),Object(r["createElementVNode"])("tbody",null,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(n.variables,(function(e){return Object(r["openBlock"])(),Object(r["createElementBlock"])("tr",{key:e},[Object(r["createElementVNode"])("td",null,Object(r["toDisplayString"])(e.variable),1),(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(c.arrayFilter(e.items),(function(e){return Object(r["openBlock"])(),Object(r["createElementBlock"])("td",{key:e},[null!==e?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",_,[Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{class:"input-test",type:"number",min:e.variable.min,max:e.variable.max,"onUpdate:modelValue":function(t){return e.value=t},required:""},null,8,S),[[r["vModelText"],e.value]])])):Object(r["createCommentVNode"])("",!0)])})),128))])})),128))])])])}n("4de4");var $={props:{variables:Object},methods:{arrayFilter:function(e){var t=e.filter((function(e){return e}));return t}},watch:{variables:{deep:!0,immediate:!0,handler:function(e){this.$emit("variablesModification",e)}}}},L=(n("aa10"),n("6b0d")),U=n.n(L);const A=U()($,[["render",T],["__scopeId","data-v-7d2b470f"]]);var q=A,P=n("a635"),Y={components:{TableMetrologiaDetalhes:q},name:"MetrologiaDetalhes",data:function(){return{newDataVariables:[],dataVariables:[],opById:[],qtdeCavidade:0}},created:function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$route.query.id,e.next=3,M["a"].FindMetrologyById(t).then((function(e){n.opById=e.data.list,console.log(n.opById)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{formatDate:function(e){return e=e.slice(0,-14),this.year=e.slice(0,-6),this.month=e.slice(5,-3),this.day=e.slice(-2),"".concat(this.day,"/").concat(this.month,"/").concat(this.year)},captureDataFromVariables:function(e){this.dataVariables=e},saveData:function(){var e=this;return Object(D["a"])(regeneratorRuntime.mark((function t(){var n,r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.constructDataMetrology(),n=e.$route.query.id,t.next=4,P["a"].DataUser().then((function(e){return e.data.user.id}));case 4:return r=t.sent,a={user:r,metrology:e.newDataVariables},o=e.$swal.mixin({toast:!0,position:"top-right",iconColor:"#ff5349",customClass:{popup:"colored-toast",title:"title-swal-text"},didOpen:function(t){t.addEventListener("mouseenter",e.$swal.stopTimer),t.addEventListener("mouseleave",e.$swal.resumeTimer)},showConfirmButton:!1,timer:2500,timerProgressBar:!0}),t.next=9,M["a"].UpdateDataMetrologyOfStartup(n,a).then((function(e){console.log(e)})).catch((function(e){o.fire({icon:"warning",title:e.response.data.message,background:"#fff"})}));case 9:case"end":return t.stop()}}),t)})))()},constructDataMetrology:function(){var e=this;this.newDataVariables=[],this.dataVariables.map((function(t){t.items.map((function(t){null!=t&&e.newDataVariables.push({id:t.metrology_id,value:t.value})}))}))},finishMetrology:function(){var e=this;return Object(D["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.$route.query.id,t.next=3,P["a"].DataUser().then((function(e){return e.data.user.id}));case 3:return r=t.sent,a=e.$swal.mixin({toast:!0,position:"top-right",iconColor:"#ff5349",customClass:{popup:"colored-toast",title:"title-swal-text"},didOpen:function(t){t.addEventListener("mouseenter",e.$swal.stopTimer),t.addEventListener("mouseleave",e.$swal.resumeTimer)},showConfirmButton:!1,timer:2500,timerProgressBar:!0}),t.next=7,e.$swal.fire({title:"Você realmente quer terminar esta revisão de metrologia?",text:"Depois de concluído, será associado a Startup",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Concluir"}).then(function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.isConfirmed){e.next=3;break}return e.next=3,M["a"].FinishMetrologyByUserId(n,r).then((function(e){a.fire({icon:"success",title:e.data.message})})).catch((function(e){a.fire({icon:"error",title:e.response.data.message})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:case"end":return t.stop()}}),t)})))()}}};n("39ea");const J=U()(Y,[["render",N],["__scopeId","data-v-289e4eef"]]);t["default"]=J},"39ea":function(e,t,n){"use strict";n("84b2")},"4de4":function(e,t,n){"use strict";var r=n("23e7"),a=n("b727").filter,o=n("1dde"),c=o("filter");r({target:"Array",proto:!0,forced:!c},{filter:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},"4fc0":function(e,t,n){},8418:function(e,t,n){"use strict";var r=n("a04b"),a=n("9bf2"),o=n("5c6c");e.exports=function(e,t,n){var c=r(t);c in e?a.f(e,c,o(0,n)):e[c]=n}},"84b2":function(e,t,n){},"99af":function(e,t,n){"use strict";var r=n("23e7"),a=n("d039"),o=n("e8b5"),c=n("861d"),i=n("7b0b"),l=n("50c4"),u=n("8418"),s=n("65f0"),d=n("1dde"),p=n("b622"),f=n("2d00"),m=p("isConcatSpreadable"),b=9007199254740991,h="Maximum allowed index exceeded",v=f>=51||!a((function(){var e=[];return e[m]=!1,e.concat()[0]!==e})),g=d("concat"),y=function(e){if(!c(e))return!1;var t=e[m];return void 0!==t?!!t:o(e)},O=!v||!g;r({target:"Array",proto:!0,forced:O},{concat:function(e){var t,n,r,a,o,c=i(this),d=s(c,0),p=0;for(t=-1,r=arguments.length;t<r;t++)if(o=-1===t?c:arguments[t],y(o)){if(a=l(o.length),p+a>b)throw TypeError(h);for(n=0;n<a;n++,p++)n in o&&u(d,p,o[n])}else{if(p>=b)throw TypeError(h);u(d,p++,o)}return d.length=p,d}})},aa10:function(e,t,n){"use strict";n("4fc0")},d81d:function(e,t,n){"use strict";var r=n("23e7"),a=n("b727").map,o=n("1dde"),c=o("map");r({target:"Array",proto:!0,forced:!c},{map:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},fb6a:function(e,t,n){"use strict";var r=n("23e7"),a=n("861d"),o=n("e8b5"),c=n("23cb"),i=n("50c4"),l=n("fc6a"),u=n("8418"),s=n("b622"),d=n("1dde"),p=d("slice"),f=s("species"),m=[].slice,b=Math.max;r({target:"Array",proto:!0,forced:!p},{slice:function(e,t){var n,r,s,d=l(this),p=i(d.length),h=c(e,p),v=c(void 0===t?p:t,p);if(o(d)&&(n=d.constructor,"function"!=typeof n||n!==Array&&!o(n.prototype)?a(n)&&(n=n[f],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return m.call(d,h,v);for(r=new(void 0===n?Array:n)(b(v-h,0)),s=0;h<v;h++,s++)h in d&&u(r,s,d[h]);return r.length=s,r}})}}]);
//# sourceMappingURL=chunk-1404dca0.755e04ec.js.map